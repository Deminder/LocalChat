databaseChangeLog:
  - changeSet:
      id: 1596577245210-1
      author: jan (generated)
      changes:
        - createTable:
            columns:
              - column:
                  constraints:
                    nullable: false
                  name: user_id
                  type: BIGINT
              - column:
                  name: role
                  type: VARCHAR(255)
            tableName: authority
  - changeSet:
      id: 1596577245210-2
      author: jan (generated)
      changes:
        - createTable:
            columns:
              - column:
                  autoIncrement: true
                  constraints:
                    nullable: false
                    primaryKey: true
                    primaryKeyName: conversationPK
                  name: id
                  type: BIGINT
              - column:
                  name: create_date
                  type: TIMESTAMP WITHOUT TIME ZONE
              - column:
                  constraints:
                    nullable: false
                  name: name
                  type: VARCHAR(255)
            tableName: conversation
  - changeSet:
      id: 1596577245210-3
      author: jan (generated)
      changes:
        - createTable:
            columns:
              - column:
                  autoIncrement: true
                  constraints:
                    nullable: false
                    primaryKey: true
                    primaryKeyName: conversation_messagePK
                  name: id
                  type: BIGINT
              - column:
                  name: author_date
                  type: TIMESTAMP WITHOUT TIME ZONE
              - column:
                  name: last_change
                  type: TIMESTAMP WITHOUT TIME ZONE
              - column:
                  name: text
                  type: VARCHAR(255)
              - column:
                  name: author_id
                  type: BIGINT
              - column:
                  name: conversation_id
                  type: BIGINT
            tableName: conversation_message
  - changeSet:
      id: 1596577245210-4
      author: jan (generated)
      changes:
        - createTable:
            columns:
              - column:
                  autoIncrement: true
                  constraints:
                    nullable: false
                    primaryKey: true
                    primaryKeyName: memberPK
                  name: id
                  type: BIGINT
              - column:
                  name: join_date
                  type: TIMESTAMP WITHOUT TIME ZONE
              - column:
                  name: last_read
                  type: TIMESTAMP WITHOUT TIME ZONE
              - column:
                  constraints:
                    nullable: false
                  name: administrate
                  type: BOOLEAN
              - column:
                  constraints:
                    nullable: false
                  name: moderate
                  type: BOOLEAN
              - column:
                  constraints:
                    nullable: false
                  name: read
                  type: BOOLEAN
              - column:
                  constraints:
                    nullable: false
                  name: voice
                  type: BOOLEAN
              - column:
                  constraints:
                    nullable: false
                  name: write
                  type: BOOLEAN
              - column:
                  name: conversation_id
                  type: BIGINT
              - column:
                  name: user_id
                  type: BIGINT
            tableName: member
  - changeSet:
      id: 1596577245210-5
      author: jan (generated)
      changes:
        - createTable:
            columns:
              - column:
                  autoIncrement: true
                  constraints:
                    nullable: false
                    primaryKey: true
                    primaryKeyName: userPK
                  name: id
                  type: BIGINT
              - column:
                  constraints:
                    nullable: false
                  name: enabled
                  type: BOOLEAN
              - column:
                  constraints:
                    nullable: false
                  name: password
                  type: VARCHAR(255)
              - column:
                  name: username
                  type: VARCHAR(255)
            tableName: user
  - changeSet:
      id: 1596577245210-6
      author: jan (generated)
      changes:
        - createTable:
            columns:
              - column:
                  constraints:
                    nullable: false
                    primaryKey: true
                    primaryKeyName: user_tokenPK
                  name: series
                  type: VARCHAR(255)
              - column:
                  name: last_used
                  type: TIMESTAMP WITHOUT TIME ZONE
              - column:
                  constraints:
                    nullable: false
                  name: token
                  type: VARCHAR(255)
              - column:
                  constraints:
                    nullable: false
                  name: username
                  type: VARCHAR(255)
            tableName: user_token
  - changeSet:
      id: 1596577245210-7
      author: jan (generated)
      changes:
        - addUniqueConstraint:
            columnNames: username
            constraintName: UK_t8tbwelrnviudxdaggwr1kd9b
            tableName: user
  - changeSet:
      id: 1596577245210-8
      author: jan (generated)
      changes:
        - addForeignKeyConstraint:
            baseColumnNames: conversation_id
            baseTableName: member
            constraintName: FK2m6rh88h9lqanm2anb5g1vi4t
            deferrable: false
            initiallyDeferred: false
            referencedColumnNames: id
            referencedTableName: conversation
            validate: true
  - changeSet:
      id: 1596577245210-9
      author: jan (generated)
      changes:
        - addForeignKeyConstraint:
            baseColumnNames: conversation_id
            baseTableName: conversation_message
            constraintName: FKhh4tgo7pncgc8xchsutwtvvg7
            deferrable: false
            initiallyDeferred: false
            referencedColumnNames: id
            referencedTableName: conversation
            validate: true
  - changeSet:
      id: 1596577245210-10
      author: jan (generated)
      changes:
        - addForeignKeyConstraint:
            baseColumnNames: author_id
            baseTableName: conversation_message
            constraintName: FKqx034ktdjxqks98kh2qx4fpc9
            deferrable: false
            initiallyDeferred: false
            referencedColumnNames: id
            referencedTableName: member
            validate: true
  - changeSet:
      id: 1596577245210-11
      author: jan (generated)
      changes:
        - addForeignKeyConstraint:
            baseColumnNames: user_id
            baseTableName: authority
            constraintName: FKr1wgeo077ok1nr1shx0t70tg8
            deferrable: false
            initiallyDeferred: false
            referencedColumnNames: id
            referencedTableName: user
            validate: true
  - changeSet:
      id: 1596577245210-12
      author: jan (generated)
      changes:
        - addForeignKeyConstraint:
            baseColumnNames: user_id
            baseTableName: member
            constraintName: FKswb523yn1xw3806ojrfpcyadl
            deferrable: false
            initiallyDeferred: false
            referencedColumnNames: id
            referencedTableName: user
            validate: true
  - changeSet:
      id: 1599323803086-1
      author: jan (generated)
      changes:
        - addColumn:
            columns:
              - column:
                  name: register_date
                  type: timestamp
            tableName: user
  - changeSet:
      id: 1599483218406-3
      author: jan (generated)
      changes:
        - addColumn:
            columns:
              - column:
                  name: creator
                  type: varchar(255)
            tableName: conversation
  - changeSet:
      id: 1599483218406-1
      author: jan (generated)
      changes:
        - dropUniqueConstraint:
            constraintName: UK_t8tbwelrnviudxdaggwr1kd9b
            tableName: user
  - changeSet:
      id: 1599483218406-2
      author: jan (generated)
      changes:
        - addUniqueConstraint:
            columnNames: username
            constraintName: UK_t8tbwelrnviudxdaggwr1kd9b
            tableName: user