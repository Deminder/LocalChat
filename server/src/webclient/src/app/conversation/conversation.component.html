<div class="main-column" *ngIf="conversationId$ | async as cid">
  <app-message-list
    class="list"
    cdkScrollable
    [messages]="conversationMessages$ | async"
    [selfUserId]="selfUserId$ | async"
    [memberDict]="memberEntites$ | async"
    [showSpinner]="loadingMoreMessages$ | async"
    (delete)="deleteMessage(cid, $event)"
    (edit)="editMessage(cid, $event)"
  ></app-message-list>
  <app-writer
    *ngIf="(selfMember$ | async)?.permission.write"
    class="writer shaded-background"
    (send)="sendMessage(cid, $event)"
  ></app-writer>
</div>
